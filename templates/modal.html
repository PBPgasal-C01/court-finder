{% load static %}

<div id="detailLaporanModal" class="hidden fixed inset-0 z-50 w-full flex items-center justify-center bg-gray-800 bg-opacity-50">

    <div id="detailLaporanModalContent" class="bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto"> {# Disesuaikan lebar & tinggi #}
        <div class="flex items-center justify-between p-4 border-b">
            <h3 class="text-lg font-semibold text-brand-green font-title"> {# Disesuaikan title & style #}
                DETAIL LAPORAN
            </h3>
            {# Tombol close (onclick diganti dengan event listener nanti) #}
            <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center modal-close-btn">
                <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                <span class="sr-only">Close modal</span>
            </button>
        </div>
        <div class="p-6 space-y-4">
            {# --- Area Konten Dinamis (akan diisi JS) --- #}
            <div class="flex justify-between">
                <span id="modal-court-name" class="font-title text-brand-green"></span>
                <span id="modal-masalah" class="font-title text-brand-green"></span>
            </div>

            <div>
                <label class="font-title text-brand-green">Deskripsi Pengguna:</label>
                <p id="modal-deskripsi" class="text-gray-700 text-sm mt-1 p-3 bg-gray-100 rounded-md border border-gray-200"></p>
            </div>

            <div id="modal-foto-container" class="w-full h-64 overflow-hidden rounded-lg hidden"> {# Sembunyikan default #}
                <img id="modal-foto" src="" alt="Foto Laporan" class="w-full h-full object-cover">
            </div>
            {# --- Akhir Area Konten Dinamis --- #}

            {# --- Form Update Status --- #}
            {# Action akan diisi oleh JS, tambahkan ID pada form #}
            <form id="updateStatusForm" method="POST" action=""> 
                {% csrf_token %}
                {# Beri ID pada select agar bisa diset JS #}
                <select name="status" required id="modal-status-select" class="block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#698C6A] focus:border-[#698C6A] mt-1">
                    {# Opsi akan diisi oleh Django Form atau JS, atau biarkan seperti ini jika ComplainAdminForm hanya 1 field #}
                    {% for value, text in status_choices_for_template %} {# Perlu kirim choices dari view #}
                      <option value="{{ value }}">{{ text }}</option>
                    {% endfor %}
                </select>

                {# Hidden input untuk menyimpan ID (opsional, bisa diambil dari action URL juga) #}
                <input type="hidden" id="modal-complain-id" value=""> 

                <button type="submit" 
                        class="w-full mt-4 px-4 py-2 bg-[#7FA580] text-white rounded-md hover:bg-[#6a8a6b] font-title font-semibold"> 
                    PROSES
                </button>
            </form>
            {# --- Akhir Form Update Status --- #}
        </div>
        {# Modal footer dihapus karena tombol Proses ada di form #}
    </div>
</div>